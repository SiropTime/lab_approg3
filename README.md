# Лабораторная работа 3. Регулярные выражения. Работа с Git

## Текст задания
Проверить, что строка является синтаксически корректным математическим выражением. Математическое выражение может

содержать числа, односимвольные переменные, знаки математических операций, круглые скобки.

## Решение
Решал через [обратную польскую нотацию](https://ru.wikipedia.org/wiki/Обратная_польская_запись#Пример_вычисления_выражений) (постфиксная запись математических выражений). Также, чтобы наверняка понимать, является ли выражение математическим выражением, оно затем решается.
Для решения этой задачи на всех этапах использовался стэк, а также для парсинга и перевода в RPN исползовалось ключевое слово python - `yield`.
То есть на этапе парсинга и перевода мы возвращаем объекты генераторов, которые потом можно пройти итератором для получения результата, что и делается при вычислениях.

Для примера пройдёмся поэтапно с помощью питоновской консоли.
##### Парсинг
```python
print([i for i in parse("2+2*(5+3)+a")])
[2.0, '+', 2.0, '*', '(', 5.0, '+', 3.0, ')', '+', 'a']
```

##### Перевод в обратную польскую нотацию
```python
print([i for i in polish_notation(parse("2+2*(5+3)+a"))])
[2.0, 2.0, 5.0, 3.0, '+', '*', '+', 'a', '+']
```

##### Проводим расчёт
```python
print(calculate(polish_notation(parse("2+2*(5+3)+a"))))
19.0
```
Также можем указать в `**kwargs` значение для переменной `a`
```python
print(calculate(polish_notation(parse("2+2*(5+3)+a")), a=5))
23.0
```

В `constants.py` хранятся операции с их приоритетом и лямбда-функцией, описывающей её поведение.
```python
OPERATORS = {
    '+': (1, lambda x, y: x + y), '-': (1, lambda x, y: x - y),
    '*': (2, lambda x, y: x * y), '/': (2, lambda x, y: x / y),
    '=': (0, lambda x, y: x == y), '^': (3, lambda x, y: x**y)
}
```


That's all I wanted to say, goodbye!